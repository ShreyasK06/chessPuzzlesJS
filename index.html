<!DOCTYPE html>
<html lang="en">

<head>
    <title>Chess AI</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A modern chess AI with multiple difficulty levels and puzzles.">

    <!-- Bootstrap CSS (Updated to v5) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./main.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <!-- Chessboard JS -->
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
        integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU" crossorigin="anonymous">
    <script defer src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"
        integrity="sha384-8Vi8VHwn3vjQ9eUHUxex3JSN/NFqUg3QbPyX8kWyb93+8AC/pPWTzj+nHtbC5bxD"
        crossorigin="anonymous"></script>

    <!-- Chess JS (slightly modified) -->
    <script defer src="./chess.js"></script>

    <!-- Bootstrap JS (Updated to v5) -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-- Custom JS -->
    <script defer src="./main.js"></script>

    <!-- Custom Favicon -->
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB+0lEQVR4Ae2WA6wcURSGb23btm3btm3btm3btm3bqm2nz5y8SZpkdpLdzea/+TK5986Z/5x7z3Z4eHi4/6sAHx+fP8LX19c9AQEBAQwMDMTg4CANDg7R4OAQhYeHU3h4BA0Pj9DIyAiNjIzS6OgojY2N0djYOI2PT9DEBExOU3JyMiUnp1BKSgqlpqZRWloGpaVlUnp6FmVkZFNmZg5lZeVSdnY+5eQUUG5uEeXlFVN+fgkVFJRSYWEZFRWVU3FxJZWUVFFpaTWVldVQeXktVVTUUWVlPVVVNVB1dSPV1DRRbW0z1dW1UH19GzU0tFNjYwc1NXVRS0s3tbb2UFtbL7W391FHRz91dg5QV9cQdXcPU0/PCPX2jlJf3xj19U1Qf/8kDQxM0eAgzNDw8CyNjMzR6Og8jY0t0Pj4Ik1MLtHk5DJNTa3Q9PQazc5u0Nz8Js0vbNHC4jYtLu3Q0vIuLa/s0crqPq2uHdDa+iGtbxzRxuYxbW6d0Nb2KW3vntHu3jnt7V/QwcEl7R9c0eHhNR0d39Dx8S2dnNzR6ek9nZ090PnFI11cPtHV9TNdXb/QzfUr3d6+0d39O909fND9wxc9PH7T4+MPPT3/0PPzL728/NHr6z+9vQHBH3p/B4I/9PkJBH/o+xsI/tDvLxD8of9/IPjDgP9A8IeB/4HgDwP/A/kHVdJoLgI1iFoAAAAASUVORK5CYII=">
</head>

<body>
    <header class="container-fluid py-3 mb-4">
        <div class="row align-items-center">
            <div class="col-md-4 text-md-start text-center">
                <h1 id="name">
                    <i class="fas fa-chess-knight me-2"></i>
                    <a href="https://shreyask06.github.io/MyWebsite/" class="text-decoration-none">CHESS PUZZLES</a>
                </h1>
            </div>
            <div class="col-md-4 text-center">
                <div class="d-flex justify-content-center align-items-center">
                    <div class="form-check form-switch d-inline-block me-3">
                        <input class="form-check-input" type="checkbox" id="darkModeToggle">
                        <label class="form-check-label text-light" for="darkModeToggle">
                            <i class="fas fa-moon me-1"></i> Dark Mode
                        </label>
                    </div>
                    <div class="form-check form-switch d-inline-block me-3">
                        <input class="form-check-input" type="checkbox" id="twoPlayerToggle">
                        <label class="form-check-label text-light" for="twoPlayerToggle">
                            <i class="fas fa-user-friends me-1"></i> Two Players
                        </label>
                    </div>
                    <button class="btn btn-sm btn-outline-light" id="helpBtn" data-bs-toggle="modal" data-bs-target="#helpModal">
                        <i class="fas fa-question-circle me-1"></i> Help
                    </button>
                </div>
            </div>
            <div class="col-md-4 text-md-end text-center">
                <div id="ai" class="dropdown">
                    <button class="btn btn-success dropdown-toggle" type="button" id="difficultyDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-robot me-2"></i>Difficulty
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="difficultyDropdown">
                        <li><button id="easy" class="dropdown-item">Easy Level</button></li>
                        <li><button id="medium" class="dropdown-item">Medium Level</button></li>
                        <li><button id="hard" class="dropdown-item">Hard Level</button></li>
                        <li><button id="grandmaster" class="dropdown-item">Grandmaster Level</button></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid">
        <div class="row">
            <!-- Left Navigation -->
            <div class="col-md-2">
                <div class="sidebar-container">
                    <h5 class="text-light mb-3">Game Modes</h5>
                    <div id="myLeftnav" class="d-flex flex-column gap-2 mb-4">
                        <button id="puzzle" class="btn btn-success op">Daily Puzzle</button>
                        <button id="chess960" class="btn btn-info op">Chess 960</button>
                        <button id="playground" class="btn btn-danger op">Playground</button>
                        <button id="traditional" class="btn btn-warning op">Traditional</button>
                    </div>

                    <div class="move-history mt-4">
                        <h5 class="text-light mb-3">Move History</h5>
                        <div id="moveHistory"></div>
                    </div>
                </div>
            </div>

            <!-- Main Chess Board -->
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-header bg-light">
                        <h2 id="gameState" class="card-title mb-0 text-center">Traditional Chess</h2>
                        <h3 id="level" class="card-subtitle mt-2 text-center">Select a difficulty level</h3>
                    </div>
                    <div class="card-body">
                        <div id="board" class="mx-auto"></div>
                        <div id="gameBtns" class="d-flex justify-content-center gap-3 mt-3">
                            <button id="startBtn" class="btn btn-success">Start Position</button>
                            <button id="undoBtn" class="btn btn-primary">Undo Move</button>
                            <button id="redoBtn" class="btn btn-primary">Redo Move</button>
                        </div>
                    </div>
                </div>

                <!-- Loading Indicator -->
                <div id="loadingIndicator" class="text-center mt-3 d-none">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2">Processing move...</p>
                </div>
            </div>

            <!-- Right Navigation -->
            <div class="col-md-2">
                <div class="sidebar-container">
                    <h5 class="text-light mb-3">Opening Positions</h5>
                    <div id="mySidenav" class="d-flex flex-column gap-2 mb-4">
                        <button id="ruyLopez" class="btn btn-success op">Ruy Lopez</button>
                        <button id="italian" class="btn btn-primary op">Italian</button>
                        <button id="french" class="btn btn-danger op">French</button>
                        <button id="queens" class="btn btn-info op">Queen's Gambit</button>
                        <button id="english" class="btn btn-warning op">English</button>
                        <button id="sicilian" class="btn btn-secondary op">Sicilian</button>
                    </div>

                    <div class="mt-4">
                        <h5 class="text-light mb-3">Game Info</h5>
                        <div class="card bg-dark text-light">
                            <div class="card-body p-3">
                                <div id="gameInfo">
                                    <p class="mb-1"><i class="fas fa-chess-king me-2"></i>White to move</p>
                                    <p class="mb-1"><i class="fas fa-robot me-2"></i>AI Level: None</p>
                                    <p class="mb-0"><i class="fas fa-clock me-2"></i>Moves: 0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Result Modal -->
    <div class="modal fade" id="gameResultModal" tabindex="-1" aria-labelledby="gameResultModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="gameResultModalLabel">Game Result</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="gameResultContent">
                    <!-- Content will be dynamically inserted here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" id="newGameBtn">New Game</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalLabel"><i class="fas fa-question-circle me-2"></i>How to Play</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6><i class="fas fa-chess me-2"></i>Game Modes</h6>
                            <ul class="list-group mb-4">
                                <li class="list-group-item"><strong>Daily Puzzle:</strong> Solve chess puzzles to improve your tactical skills</li>
                                <li class="list-group-item"><strong>Chess960:</strong> Play with randomized starting positions (Fischer Random Chess)</li>
                                <li class="list-group-item"><strong>Playground:</strong> Set up your own positions and experiment</li>
                                <li class="list-group-item"><strong>Traditional:</strong> Play standard chess against the computer</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-robot me-2"></i>Game Modes</h6>
                            <ul class="list-group mb-4">
                                <li class="list-group-item"><strong>AI Mode:</strong> Play against the computer with different difficulty levels</li>
                                <li class="list-group-item"><strong>Two-Player Mode:</strong> Play against a friend on the same device</li>
                            </ul>

                            <h6><i class="fas fa-cog me-2"></i>Difficulty Levels (AI Mode)</h6>
                            <ul class="list-group mb-4">
                                <li class="list-group-item"><strong>Easy:</strong> For beginners, makes random moves</li>
                                <li class="list-group-item"><strong>Medium:</strong> Intermediate level, prioritizes captures and checks</li>
                                <li class="list-group-item"><strong>Hard:</strong> Advanced level, uses strategic thinking</li>
                                <li class="list-group-item"><strong>Grandmaster:</strong> Expert level, uses Stockfish engine</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <h6><i class="fas fa-keyboard me-2"></i>Controls</h6>
                            <ul class="list-group">
                                <li class="list-group-item"><strong>Start Position:</strong> Reset the board to the starting position</li>
                                <li class="list-group-item"><strong>Undo Move:</strong> Take back your last move</li>
                                <li class="list-group-item"><strong>Redo Move:</strong> Replay a move that was undone</li>
                                <li class="list-group-item"><strong>Opening Positions:</strong> Start from famous chess openings</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">Got it!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Promotion Modal -->
    <div class="modal fade" id="promotionModal" tabindex="-1" aria-labelledby="promotionModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="promotionModalLabel">Choose Promotion Piece</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Select a piece to promote your pawn:</p>
                    <div class="promotion-piece-container" id="promotionPieces">
                        <!-- Pieces will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>